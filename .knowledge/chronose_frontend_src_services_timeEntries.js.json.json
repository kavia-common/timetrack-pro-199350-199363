{"is_source_file": true, "format": "JavaScript", "description": "This file defines a set of functions for interacting with a 'time_entries' data resource via the Supabase client, including listing, creating, updating, deleting, and validating time entries. It includes configuration, error handling, feature flag management, and data mapping functions.", "external_files": ["@supabase/supabase-js"], "external_methods": ["createClient"], "published": ["getFeatureFlags", "listMyTimeEntries", "createTimeEntry", "updateTimeEntry", "deleteTimeEntry", "validateEntryFields"], "classes": [], "methods": [{"name": "getFeatureFlags()", "description": "Reads feature flags from environment variables, parsing JSON or CSV formats to determine feature toggles.", "scope": "", "scopeKind": ""}, {"name": "listMyTimeEntries(userId)", "description": "Fetches a list of time entries for a specified user, handling feature flag checks and potential errors.", "scope": "", "scopeKind": ""}, {"name": "createTimeEntry(entry)", "description": "Creates a new time entry record in the database for a specific user.", "scope": "", "scopeKind": ""}, {"name": "updateTimeEntry(id, patch)", "description": "Updates an existing time entry record identified by id with provided patch data.", "scope": "", "scopeKind": ""}, {"name": "deleteTimeEntry(id)", "description": "Deletes a time entry record by id.", "scope": "", "scopeKind": ""}, {"name": "validateEntryFields(values)", "description": "Performs minimal validation on input fields for a time entry, returning errors and validation state.", "scope": "", "scopeKind": ""}, {"name": "isMissingTable(error)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "mapRow(r)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["supabase.from('time_entries').select()", "supabase.from('time_entries').insert()", "supabase.from('time_entries').update()", "supabase.from('time_entries').delete()", "mapRow"], "search-terms": ["time_entries", "Supabase client", "feature flags", "CRUD operations", "validation", "time entry management"], "state": 2, "file_id": 30, "knowledge_revision": 70, "git_revision": "", "revision_history": [{"61": ""}, {"70": ""}], "ctags": [{"_type": "tag", "name": "SUPABASE_KEY", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^const SUPABASE_KEY = process.env.REACT_APP_SUPABASE_KEY;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "SUPABASE_URL", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^const SUPABASE_URL = process.env.REACT_APP_SUPABASE_URL;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createTimeEntry", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^export async function createTimeEntry(entry) {$/", "language": "JavaScript", "kind": "function", "signature": "(entry)"}, {"_type": "tag", "name": "date", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^      date: entry.date,$/", "language": "JavaScript", "kind": "property", "scope": "createTimeEntry.payload", "scopeKind": "class"}, {"_type": "tag", "name": "defaults", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^  const defaults = {$/", "language": "JavaScript", "kind": "class", "scope": "getFeatureFlags", "scopeKind": "class"}, {"_type": "tag", "name": "deleteTimeEntry", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^export async function deleteTimeEntry(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^  const e = new Error(message);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "enableRealData", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^    enableRealData: !!(SUPABASE_URL && SUPABASE_KEY),$/", "language": "JavaScript", "kind": "property", "scope": "getFeatureFlags.defaults", "scopeKind": "class"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^const err = (message, code = 'client_unavailable') => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getFeatureFlags", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^export function getFeatureFlags() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "hours", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^      hours: Number(entry.hours),$/", "language": "JavaScript", "kind": "property", "scope": "createTimeEntry.payload", "scopeKind": "class"}, {"_type": "tag", "name": "isMissingTable", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^function isMissingTable(error) {$/", "language": "JavaScript", "kind": "function", "signature": "(error)"}, {"_type": "tag", "name": "listMyTimeEntries", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^export async function listMyTimeEntries(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "mapRow", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^function mapRow(r) {$/", "language": "JavaScript", "kind": "function", "signature": "(r)"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^      notes: entry.notes || null,$/", "language": "JavaScript", "kind": "property", "scope": "createTimeEntry.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "createTimeEntry", "scopeKind": "class"}, {"_type": "tag", "name": "project", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^      project: entry.project || null,$/", "language": "JavaScript", "kind": "property", "scope": "createTimeEntry.payload", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^      status: entry.status || 'draft',$/", "language": "JavaScript", "kind": "property", "scope": "createTimeEntry.payload", "scopeKind": "class"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^let supabase = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "task", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^      task: entry.task || null,$/", "language": "JavaScript", "kind": "property", "scope": "createTimeEntry.payload", "scopeKind": "class"}, {"_type": "tag", "name": "updateTimeEntry", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^export async function updateTimeEntry(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^      user_id: entry.user_id,$/", "language": "JavaScript", "kind": "property", "scope": "createTimeEntry.payload", "scopeKind": "class"}, {"_type": "tag", "name": "validateEntryFields", "path": "/home/kavia/workspace/code-generation/timetrack-pro-199350-199363/chronose_frontend/src/services/timeEntries.js", "pattern": "/^export function validateEntryFields(values) {$/", "language": "JavaScript", "kind": "function", "signature": "(values)"}], "hash": "406013f551e018f9376353a6a8441e5d", "format-version": 4, "code-base-name": "chronose_frontend", "filename": "chronose_frontend/src/services/timeEntries.js", "fields": [{"name": "date: entry.date,", "scope": "createTimeEntry.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "enableRealData: !!(SUPABASE_URL && SUPABASE_KEY),", "scope": "getFeatureFlags.defaults", "scopeKind": "class", "description": "unavailable"}, {"name": "hours: Number(entry.hours),", "scope": "createTimeEntry.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "notes: entry.notes || null,", "scope": "createTimeEntry.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "project: entry.project || null,", "scope": "createTimeEntry.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "status: entry.status || 'draft',", "scope": "createTimeEntry.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "let supabase = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "task: entry.task || null,", "scope": "createTimeEntry.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id: entry.user_id,", "scope": "createTimeEntry.payload", "scopeKind": "class", "description": "unavailable"}]}